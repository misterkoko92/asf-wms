{% extends "scan/base.html" %}
{% load static %}

{% block title %}UI Lab{% endblock %}

{% block extra_head %}
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/tabler-icons.min.css">
  <link rel="stylesheet" href="{% static 'scan/ui-lab.css' %}">
{% endblock %}

{% block content %}
  <section class="scan-card card border-0 ui-comp-card ui-lab-hero">
    <div class="ui-lab-hero-head">
      <div>
        <h2 class="ui-comp-title">UI Lab</h2>
        <p class="scan-help">
          Bac &agrave; sable visuel pour tester les composants, couleurs, typographies et densit&eacute;.
        </p>
      </div>
      <span class="badge text-bg-warning">Sandbox uniquement</span>
    </div>
  </section>

  <section class="scan-card card border-0 ui-comp-card ui-lab-controls">
    <h3 class="ui-comp-title">R&eacute;glages live</h3>
    <div class="ui-lab-controls-grid">
      <div class="scan-field">
        <label class="form-label" for="ui-lab-palette">Palette</label>
        <select class="form-select" id="ui-lab-palette">
          <option value="sage">Sauge douce</option>
          <option value="mist">Bleu brume</option>
          <option value="tea">Th&eacute; vert sable</option>
        </select>
      </div>
      <div class="scan-field">
        <label class="form-label" for="ui-lab-typography">Typographie</label>
        <select class="form-select" id="ui-lab-typography">
          <option value="manrope-source">Manrope + Source Sans 3</option>
          <option value="dm-nunito">DM Sans + Nunito Sans</option>
          <option value="aptos-like">Aptos-like system</option>
        </select>
      </div>
      <div class="scan-field">
        <label class="form-label" for="ui-lab-density">Densit&eacute;</label>
        <select class="form-select" id="ui-lab-density">
          <option value="compact">Compact</option>
          <option value="standard" selected>Standard</option>
          <option value="airy">A&eacute;r&eacute;</option>
        </select>
      </div>
    </div>
    <p class="scan-help">Ces r&eacute;glages s'appliquent uniquement &agrave; cette page (sandbox).</p>
  </section>

  <div
    id="ui-lab-preview"
    class="ui-lab-preview"
    data-ui-lab-palette="sage"
    data-ui-lab-typography="manrope-source"
    data-ui-lab-density="standard"
  >
    <section class="scan-card card border-0 ui-comp-card">
      <h3 class="ui-comp-title">Typographie</h3>
      <div class="ui-lab-typography">
        <article class="ui-lab-surface">
          <h4>Titres</h4>
          <h1>H1 - Op&eacute;rations &amp; exp&eacute;ditions</h1>
          <h2>H2 - Pr&eacute;paration des commandes</h2>
          <h3>H3 - D&eacute;tail des stocks</h3>
        </article>
        <article class="ui-lab-surface">
          <h4>Texte courant</h4>
          <p>
            Interface professionnelle et apais&eacute;e, pens&eacute;e pour un usage quotidien en entrep&ocirc;t
            avec une lecture confortable sur desktop et mobile.
          </p>
          <p class="scan-help">Ce bloc permet de valider le contraste et la densit&eacute; des paragraphes.</p>
        </article>
      </div>
    </section>

    <section class="scan-card card border-0 ui-comp-card">
      <h3 class="ui-comp-title">Palette</h3>
      <div class="ui-lab-swatches">
        <div class="ui-lab-swatch swatch-primary"><strong>Primary</strong><span>variable</span></div>
        <div class="ui-lab-swatch swatch-primary-soft"><strong>Primary Soft</strong><span>variable</span></div>
        <div class="ui-lab-swatch swatch-accent"><strong>Accent</strong><span>variable</span></div>
        <div class="ui-lab-swatch swatch-bg"><strong>Background</strong><span>variable</span></div>
        <div class="ui-lab-swatch swatch-surface"><strong>Surface</strong><span>variable</span></div>
        <div class="ui-lab-swatch swatch-border"><strong>Border</strong><span>variable</span></div>
      </div>
    </section>

    <section class="scan-card card border-0 ui-comp-card">
      <h3 class="ui-comp-title">Boutons et &eacute;tats</h3>
      <div class="ui-lab-row">
        <button type="button" class="btn btn-primary">Action principale</button>
        <button type="button" class="btn btn-outline-secondary">Action secondaire</button>
        <button type="button" class="btn btn-light">Action neutre</button>
        <button type="button" class="btn btn-primary" disabled>D&eacute;sactiv&eacute;</button>
      </div>
      <div class="ui-lab-row">
        <span class="badge text-bg-success">Succ&egrave;s</span>
        <span class="badge text-bg-warning">Attention</span>
        <span class="badge text-bg-danger">Erreur</span>
        <span class="badge text-bg-info">Information</span>
      </div>
    </section>

    <section class="scan-card card border-0 ui-comp-card">
      <h3 class="ui-comp-title">Formulaires</h3>
      <form class="ui-lab-form ui-comp-form" onsubmit="return false;">
        <div class="scan-field">
          <label class="form-label" for="ui-lab-name">Nom du composant</label>
          <input class="form-control" id="ui-lab-name" type="text" placeholder="Ex: Table commandes">
        </div>
        <div class="scan-field">
          <label class="form-label" for="ui-lab-type">Type</label>
          <select class="form-select" id="ui-lab-type">
            <option>Tableau</option>
            <option>Formulaire</option>
            <option>Carte KPI</option>
          </select>
        </div>
        <div class="scan-field">
          <label class="form-label" for="ui-lab-notes">Notes</label>
          <textarea class="form-control" id="ui-lab-notes" rows="3" placeholder="Commentaires design"></textarea>
        </div>
      </form>
    </section>

    <section class="scan-card card border-0 ui-comp-card">
      <h3 class="ui-comp-title">Filtres et tri</h3>
      <form class="ui-comp-toolbar" onsubmit="return false;">
        <div class="scan-field ui-comp-filter">
          <label class="form-label" for="ui-lab-filter-search">Recherche</label>
          <input class="form-control" id="ui-lab-filter-search" type="text" placeholder="Nom produit, lot, emplacement">
        </div>
        <div class="scan-field ui-comp-filter">
          <label class="form-label" for="ui-lab-filter-category">Cat&eacute;gorie</label>
          <select class="form-select" id="ui-lab-filter-category">
            <option>Toutes</option>
            <option>Hygi&egrave;ne</option>
            <option>M&eacute;dical</option>
            <option>Logistique</option>
          </select>
        </div>
        <div class="scan-field ui-comp-filter">
          <label class="form-label" for="ui-lab-filter-state">&Eacute;tat</label>
          <select class="form-select" id="ui-lab-filter-state">
            <option>Tous</option>
            <option>Pr&ecirc;t</option>
            <option>En pr&eacute;paration</option>
            <option>Bloqu&eacute;</option>
          </select>
        </div>
        <div class="ui-comp-filter-actions">
          <button type="button" class="btn btn-outline-secondary btn-sm ui-comp-sort-btn">Tri stock &uarr;</button>
          <button type="button" class="btn btn-outline-secondary btn-sm ui-comp-sort-btn">Tri p&eacute;remption &darr;</button>
        </div>
      </form>
      <div class="ui-comp-chip-list">
        <span class="ui-comp-chip">Cat&eacute;gorie: Hygi&egrave;ne</span>
        <span class="ui-comp-chip">&Eacute;tat: Pr&ecirc;t</span>
        <span class="ui-comp-chip">Stock &gt; 20</span>
      </div>
    </section>

    <section class="scan-card card border-0 ui-comp-card">
      <h3 class="ui-comp-title">Tableau</h3>
      <div class="scan-table-wrap table-responsive">
        <table class="scan-table table table-sm table-hover align-middle ui-comp-data-table">
          <thead>
            <tr>
              <th><button type="button" class="btn btn-link p-0">Composant</button></th>
              <th><button type="button" class="btn btn-link p-0">Usage</button></th>
              <th><button type="button" class="btn btn-link p-0">Version</button></th>
              <th><button type="button" class="btn btn-link p-0">&Eacute;tat</button></th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Primary button</td>
              <td>CTA principal</td>
              <td>v1</td>
              <td><span class="ui-comp-status-pill is-ready">Valid&eacute;</span></td>
            </tr>
            <tr>
              <td>Form field</td>
              <td>Entr&eacute;e utilisateur</td>
              <td>v2</td>
              <td><span class="ui-comp-status-pill is-progress">&Agrave; revoir</span></td>
            </tr>
            <tr>
              <td>Data table</td>
              <td>Vues stock/commandes</td>
              <td>v1</td>
              <td><span class="ui-comp-status-pill is-info">En test</span></td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <section class="scan-card card border-0 ui-comp-card">
      <h3 class="ui-comp-title">Tabler Lite</h3>
      <div class="ui-lab-stat-grid ui-comp-kpi-grid">
        <article class="ui-lab-stat-card ui-comp-kpi-card">
          <span class="ui-lab-stat-icon"><i class="ti ti-package"></i></span>
          <div class="ui-lab-stat-copy">
            <strong>128</strong>
            <span>Colis pr&ecirc;ts</span>
          </div>
        </article>
        <article class="ui-lab-stat-card ui-comp-kpi-card">
          <span class="ui-lab-stat-icon"><i class="ti ti-clipboard-check"></i></span>
          <div class="ui-lab-stat-copy">
            <strong>42</strong>
            <span>Commandes valid&eacute;es</span>
          </div>
        </article>
        <article class="ui-lab-stat-card ui-comp-kpi-card">
          <span class="ui-lab-stat-icon"><i class="ti ti-truck-delivery"></i></span>
          <div class="ui-lab-stat-copy">
            <strong>7</strong>
            <span>Exp&eacute;ditions en cours</span>
          </div>
        </article>
      </div>

      <div class="ui-lab-activity-list">
        <article class="ui-lab-activity-item">
          <span class="ui-lab-activity-icon"><i class="ti ti-scan"></i></span>
          <div>
            <strong>Picking g&eacute;n&eacute;r&eacute;</strong>
            <p class="scan-help">Carton C-20260227-14 · il y a 4 min</p>
          </div>
        </article>
        <article class="ui-lab-activity-item">
          <span class="ui-lab-activity-icon"><i class="ti ti-user-check"></i></span>
          <div>
            <strong>Compte association valid&eacute;</strong>
            <p class="scan-help">Secours Med Local · il y a 12 min</p>
          </div>
        </article>
      </div>
    </section>
  </div>
  <script defer src="{% static 'scan/ui-lab.js' %}"></script>
{% endblock %}
