<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ASF WMS</title>
  {% if scan_bootstrap_enabled %}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  {% endif %}
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fraunces:wght@500;700&family=Sora:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --ink: #1a241c;
      --ink-soft: #4c5a50;
      --bg: #f3f1ea;
      --bg-2: #e6ede2;
      --card: #fffdf7;
      --accent: #0f5f4f;
      --border: #ded6c7;
      --shadow: rgba(20, 24, 18, 0.12);
      --shadow-soft: rgba(20, 24, 18, 0.06);
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: "Sora", "Avenir Next", "Gill Sans", sans-serif;
      color: var(--ink);
      background:
        radial-gradient(1100px 720px at 5% -20%, rgba(255, 244, 214, 0.9) 0%, transparent 55%),
        radial-gradient(900px 600px at 105% 10%, rgba(226, 246, 238, 0.9) 0%, transparent 55%),
        linear-gradient(180deg, var(--bg) 0%, var(--bg-2) 100%);
      min-height: 100vh;
      padding: 24px;
    }

    .home-shell {
      width: 100%;
      max-width: 980px;
      margin: 0 auto;
      display: grid;
      gap: 20px;
    }

    .home-top {
      display: flex;
      align-items: center;
      gap: 12px;
      font-weight: 700;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .brand-dot {
      width: 14px;
      height: 14px;
      border-radius: 4px;
      background: var(--accent);
      box-shadow: 0 0 0 6px rgba(15, 95, 79, 0.12);
    }

    .brand-sub {
      font-size: 12px;
      color: var(--ink-soft);
      letter-spacing: 0.22em;
    }

    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 20px;
      padding: 28px;
      box-shadow: 0 16px 36px var(--shadow-soft);
    }

    .hero-card {
      box-shadow: 0 18px 40px var(--shadow);
    }

    .home-kicker {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(255, 255, 255, 0.7);
      font-size: 11px;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      font-weight: 700;
      color: var(--accent);
      margin-bottom: 16px;
    }

    h1 {
      font-family: "Fraunces", "Georgia", serif;
      font-size: 38px;
      margin: 0;
      line-height: 1.15;
    }

    .login-card h2 {
      margin: 0 0 10px;
      font-size: 22px;
    }

    .scan-help {
      margin: 0 0 14px;
      color: var(--ink-soft);
      font-size: 14px;
      line-height: 1.5;
    }

    .scan-field {
      display: grid;
      gap: 6px;
      margin-bottom: 12px;
    }

    .scan-field label {
      font-size: 13px;
      font-weight: 600;
      color: var(--ink-soft);
    }

    .scan-field input {
      border: 1px solid #b8c8bc;
      border-radius: 10px;
      min-height: 42px;
      padding: 9px 12px;
      font-size: 15px;
      background: #fff;
    }

    .scan-submit {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border: 0;
      border-radius: 12px;
      min-height: 44px;
      padding: 10px 16px;
      font-size: 15px;
      font-weight: 700;
      color: #fff;
      background: var(--accent);
      cursor: pointer;
      width: 100%;
    }

    .home-links {
      margin-top: 12px;
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      font-size: 14px;
    }

    .home-links a {
      color: var(--accent);
      text-decoration: none;
      font-weight: 600;
    }

    @media (max-width: 720px) {
      body {
        padding: 18px;
      }

      .card {
        padding: 22px;
      }

      h1 {
        font-size: 31px;
      }
    }
  </style>
</head>
<body{% if scan_bootstrap_enabled %} class="home-bootstrap-enabled"{% endif %}>
  <div class="home-shell">
    <header class="home-top">
      <span class="brand-dot"></span>
      <span>ASF WMS</span>
      <span class="brand-sub">Logistique</span>
    </header>

    <section class="card hero-card border-0">
      <div class="home-kicker">Plateforme logistique</div>
      <h1>Gestion des stocks, réception de produits et préparation des expéditions</h1>
    </section>

    <section class="card login-card border-0">
      <h2>Connexion</h2>
      <p class="scan-help">Connectez-vous avec votre compte pour accéder à l'interface de gestion.</p>
      <form method="post" action="/admin/login/?next=/scan/" id="home-login-form" novalidate>
        {% csrf_token %}
        <input type="hidden" name="next" value="/scan/">
        <div class="scan-field">
          <label for="username">Nom d'utilisateur</label>
          <input class="form-control" type="text" id="username" name="username" autocomplete="username" required>
        </div>
        <div class="scan-field">
          <label for="password">Mot de passe</label>
          <input class="form-control" type="password" id="password" name="password" autocomplete="current-password" required>
        </div>
        <button type="submit" class="scan-submit btn btn-primary">Se connecter</button>
      </form>
      <div class="home-links">
        <a href="{% url 'password_help' %}">Mot de passe oublié ?</a>
        <a href="{% url 'portal:portal_account_request' %}">Créer un compte</a>
      </div>
    </section>
  </div>

  <script>
    (function() {
      var form = document.getElementById("home-login-form");
      if (!form) {
        return;
      }
      form.addEventListener("submit", function() {
        try {
          localStorage.setItem("wms-ui", "benev");
          localStorage.setItem("scan-theme", "classic");
        } catch (err) {
          // Ignore storage errors.
        }
      });
    })();
  </script>
  {% if scan_bootstrap_enabled %}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  {% endif %}
</body>
</html>
